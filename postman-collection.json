{
  "info": {
    "name": "HHS健康小贴士平台API",
    "description": "HHS (Health Helper System) API接口集合，包含用户认证、健康贴士、评论、AI功能等模块",
    "schema": "https://schema.getpostman.com/json/collection/v2.1.0/collection.json"
  },
  "variable": [
    {
      "key": "baseUrl",
      "value": "http://localhost:8082/api",
      "type": "string"
    },
    {
      "key": "token",
      "value": "",
      "type": "string"
    }
  ],
  "item": [
    {
      "name": "1. 认证模块",
      "item": [
        {
          "name": "用户注册",
          "request": {
            "method": "POST",
            "header": [{"key": "Content-Type", "value": "application/json"}],
            "url": "{{baseUrl}}/auth/register",
            "body": {
              "mode": "raw",
              "raw": "{\n  \"username\": \"testuser\",\n  \"password\": \"123456\",\n  \"email\": \"test@example.com\",\n  \"nickname\": \"测试用户\"\n}"
            }
          }
        },
        {
          "name": "用户登录",
          "event": [{
            "listen": "test",
            "script": {
              "exec": ["pm.test(\"登录成功\", function () {", "    var jsonData = pm.response.json();", "    pm.expect(jsonData.code).to.eql(200);", "    if(jsonData.data && jsonData.data.token) {", "        pm.collectionVariables.set(\"token\", jsonData.data.token);", "    }", "});"]
            }
          }],
          "request": {
            "method": "POST",
            "header": [{"key": "Content-Type", "value": "application/json"}],
            "url": "{{baseUrl}}/auth/login",
            "body": {
              "mode": "raw",
              "raw": "{\n  \"username\": \"testuser\",\n  \"password\": \"123456\"\n}"
            }
          }
        }
      ]
    },
    {
      "name": "2. 用户模块",
      "item": [
        {
          "name": "获取当前用户信息",
          "request": {
            "method": "GET",
            "header": [{"key": "Authorization", "value": "Bearer {{token}}"}],
            "url": "{{baseUrl}}/user/profile"
          }
        },
        {
          "name": "更新用户信息",
          "request": {
            "method": "PUT",
            "header": [{"key": "Authorization", "value": "Bearer {{token}}"}, {"key": "Content-Type", "value": "application/json"}],
            "url": "{{baseUrl}}/user/profile",
            "body": {
              "mode": "raw",
              "raw": "{\n  \"nickname\": \"新昵称\",\n  \"bio\": \"个人简介\",\n  \"avatar\": \"/uploads/avatars/xxx.jpg\"\n}"
            }
          }
        },
        {
          "name": "修改密码",
          "request": {
            "method": "PUT",
            "header": [{"key": "Authorization", "value": "Bearer {{token}}"}, {"key": "Content-Type", "value": "application/json"}],
            "url": "{{baseUrl}}/user/password",
            "body": {
              "mode": "raw",
              "raw": "{\n  \"oldPassword\": \"123456\",\n  \"newPassword\": \"654321\"\n}"
            }
          }
        },
        {
          "name": "查看用户公开信息",
          "request": {
            "method": "GET",
            "url": "{{baseUrl}}/users/1"
          }
        },
        {
          "name": "查看用户发布列表",
          "request": {
            "method": "GET",
            "url": {
              "raw": "{{baseUrl}}/users/1/tips?page=1&size=10",
              "query": [{"key": "page", "value": "1"}, {"key": "size", "value": "10"}]
            }
          }
        },
        {
          "name": "我的发布",
          "request": {
            "method": "GET",
            "header": [{"key": "Authorization", "value": "Bearer {{token}}"}],
            "url": {
              "raw": "{{baseUrl}}/user/tips?page=1&size=10",
              "query": [{"key": "page", "value": "1"}, {"key": "size", "value": "10"}]
            }
          }
        },
        {
          "name": "我的收藏",
          "request": {
            "method": "GET",
            "header": [{"key": "Authorization", "value": "Bearer {{token}}"}],
            "url": {
              "raw": "{{baseUrl}}/user/collects?page=1&size=10",
              "query": [{"key": "page", "value": "1"}, {"key": "size", "value": "10"}]
            }
          }
        },
        {
          "name": "我的点赞",
          "request": {
            "method": "GET",
            "header": [{"key": "Authorization", "value": "Bearer {{token}}"}],
            "url": {
              "raw": "{{baseUrl}}/user/likes?page=1&size=10",
              "query": [{"key": "page", "value": "1"}, {"key": "size", "value": "10"}]
            }
          }
        },
        {
          "name": "我的评论",
          "request": {
            "method": "GET",
            "header": [{"key": "Authorization", "value": "Bearer {{token}}"}],
            "url": {
              "raw": "{{baseUrl}}/user/comments?page=1&size=10",
              "query": [{"key": "page", "value": "1"}, {"key": "size", "value": "10"}]
            }
          }
        }
      ]
    },
    {
      "name": "3. 健康小贴士模块",
      "item": [
        {
          "name": "获取小贴士列表",
          "request": {
            "method": "GET",
            "url": {
              "raw": "{{baseUrl}}/tips?page=1&size=10",
              "query": [{"key": "page", "value": "1"}, {"key": "size", "value": "10"}, {"key": "category", "value": "", "disabled": true}, {"key": "keyword", "value": "", "disabled": true}]
            }
          }
        },
        {
          "name": "获取小贴士详情",
          "request": {
            "method": "GET",
            "url": "{{baseUrl}}/tips/1"
          }
        },
        {
          "name": "发布小贴士",
          "request": {
            "method": "POST",
            "header": [{"key": "Authorization", "value": "Bearer {{token}}"}, {"key": "Content-Type", "value": "application/json"}],
            "url": "{{baseUrl}}/tips",
            "body": {
              "mode": "raw",
              "raw": "{\n  \"title\": \"每天喝水的重要性\",\n  \"content\": \"成年人每天应该喝8杯水...\",\n  \"category\": \"饮食营养\",\n  \"tags\": [\"健康\", \"饮水\"]\n}"
            }
          }
        },
        {
          "name": "点赞小贴士",
          "request": {
            "method": "POST",
            "header": [{"key": "Authorization", "value": "Bearer {{token}}"}],
            "url": "{{baseUrl}}/tips/1/like"
          }
        },
        {
          "name": "收藏小贴士",
          "request": {
            "method": "POST",
            "header": [{"key": "Authorization", "value": "Bearer {{token}}"}],
            "url": "{{baseUrl}}/tips/1/collect"
          }
        },
        {
          "name": "删除小贴士",
          "request": {
            "method": "DELETE",
            "header": [{"key": "Authorization", "value": "Bearer {{token}}"}],
            "url": "{{baseUrl}}/tips/1"
          }
        }
      ]
    },
    {
      "name": "4. 评论模块",
      "item": [
        {
          "name": "获取评论列表",
          "request": {
            "method": "GET",
            "url": {
              "raw": "{{baseUrl}}/tips/1/comments?page=1&size=20",
              "query": [{"key": "page", "value": "1"}, {"key": "size", "value": "20"}]
            }
          }
        },
        {
          "name": "发表评论",
          "request": {
            "method": "POST",
            "header": [{"key": "Authorization", "value": "Bearer {{token}}"}, {"key": "Content-Type", "value": "application/json"}],
            "url": "{{baseUrl}}/tips/1/comments",
            "body": {
              "mode": "raw",
              "raw": "{\n  \"content\": \"非常有用的建议！\",\n  \"parentId\": null\n}"
            }
          }
        },
        {
          "name": "点赞评论",
          "request": {
            "method": "POST",
            "header": [{"key": "Authorization", "value": "Bearer {{token}}"}],
            "url": "{{baseUrl}}/tips/1/comments/1/like"
          }
        },
        {
          "name": "删除评论",
          "request": {
            "method": "DELETE",
            "header": [{"key": "Authorization", "value": "Bearer {{token}}"}],
            "url": "{{baseUrl}}/tips/1/comments/1"
          }
        }
      ]
    },
    {
      "name": "5. AI功能模块",
      "item": [
        {
          "name": "AI智能分类",
          "request": {
            "method": "POST",
            "header": [{"key": "Authorization", "value": "Bearer {{token}}"}, {"key": "Content-Type", "value": "application/json"}],
            "url": "{{baseUrl}}/ai/classify",
            "body": {
              "mode": "raw",
              "raw": "{\n  \"title\": \"每天跑步30分钟的好处\",\n  \"content\": \"坚持每天跑步可以提高心肺功能...\"\n}"
            }
          }
        },
        {
          "name": "AI健康顾问对话",
          "request": {
            "method": "POST",
            "header": [{"key": "Content-Type", "value": "application/json"}],
            "url": "{{baseUrl}}/ai/chat",
            "body": {
              "mode": "raw",
              "raw": "{\n  \"sessionId\": \"test-session-001\",\n  \"question\": \"如何改善睡眠质量？\"\n}"
            }
          }
        },
        {
          "name": "获取对话历史",
          "request": {
            "method": "GET",
            "url": {
              "raw": "{{baseUrl}}/ai/chat/history?sessionId=test-session-001",
              "query": [{"key": "sessionId", "value": "test-session-001"}]
            }
          }
        },
        {
          "name": "清空对话历史",
          "request": {
            "method": "DELETE",
            "url": "{{baseUrl}}/ai/chat/history/test-session-001"
          }
        }
      ]
    },
    {
      "name": "6. 文件上传模块",
      "item": [
        {
          "name": "上传头像",
          "request": {
            "method": "POST",
            "header": [{"key": "Authorization", "value": "Bearer {{token}}"}],
            "url": "{{baseUrl}}/upload/avatar",
            "body": {
              "mode": "formdata",
              "formdata": [{"key": "file", "type": "file", "src": ""}]
            }
          }
        }
      ]
    }
  ]
}
